{% extends "base.html" %}
{% load humanize %}

{% block title %}Painel do Vendedor - AutoCenter{% endblock %}

{% block content %}
<h1 class="mb-4">Painel do Vendedor</h1>

<div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-3">
    <h2 class="h3 mb-0">Gerenciar VeÃ­culos</h2>
    <a href="{% url 'veiculo_criar' %}" class="btn btn-success">
        + Adicionar Novo VeÃ­culo
    </a>
</div>

<div class="car-grid">
    {% for veiculo in veiculos %}
        <div class="car-card">
            <img src="{{ veiculo.foto_url|default:'https://via.placeholder.com/400x200.png?text=Sem+Foto' }}" alt="{{ veiculo.nome }}" class="img-fluid">
            
            <div class="info">
                <h3>{{ veiculo.nome }}</h3>
                
                <div class="year-price mb-2">
                    <span class="text-muted">ðŸ“… {{ veiculo.ano_modelo }}</span>
                    <span class="price text-success">R$ {{ veiculo.preco|floatformat:0|intcomma }}</span>
                </div>

                <div class="d-grid gap-2 mt-3">
                    <a href="{% url 'veiculo_editar' id=veiculo.id %}" class="btn btn-warning btn-sm">
                        <i class="fas fa-edit"></i> Editar
                    </a>
                    <a href="{% url 'vei-rm' id=veiculo.id %}" class="btn btn-danger btn-sm">
                        <i class="fas fa-trash-alt"></i> Remover
                    </a>
                </div>
            </div>
        </div>
    {% empty %}
        <div class="col-12 text-center py-5">
            <p class="lead">Nenhum veÃ­culo cadastrado no momento. <a href="{% url 'veiculo_criar' %}">Adicione um novo!</a></p>
        </div>
    {% endfor %}
</div>
{% endblock %}