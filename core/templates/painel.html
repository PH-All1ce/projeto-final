{% extends "base.html" %}
{% load humanize %}

{% load url_extras %}


{% block title %}Painel do Vendedor - AutoCenter{% endblock %}

{% block content %}

{# ...existing code... #}

<main class="vendedor-content">
    <div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-3">
        <div>
            <h1 class="h2 mb-0">Gerenciar Ve√≠culos</h1>
            <p class="text-muted small mt-1">Controle todos os seus ve√≠culos cadastrados</p>
        </div>
        <a href="{% url 'veiculo_criar' %}" class="btn btn-success btn-lg">
            <i class="fas fa-plus"></i> Adicionar Novo Ve√≠culo
        </a>
    </div>

    <div class="car-grid">
        {% for veiculo in veiculos %}
            <div class="car-card">
                <div class="car-image-container">
                    <img src="{{ veiculo.foto_url|default:'https://via.placeholder.com/400x200.png?text=Sem+Foto' }}" alt="{{ veiculo.nome }}" class="img-fluid">
                </div>
                
                <div class="info">
                    <h3>{{ veiculo.nome }}</h3>
                    
                    <div class="year-price mb-3">
                        <span class="text-muted small">üìÖ {{ veiculo.ano_modelo }}</span>
                        <span class="price text-success fw-bold">R$ {{ veiculo.preco|floatformat:0|intcomma }}</span>
                    </div>

                    <div class="vehicle-details small text-muted mb-3">
                        <p><i class="fas fa-road"></i> {{ veiculo.quilometragem|intcomma }} km</p>
                        <p><i class="fas fa-bolt"></i> {{ veiculo.potencia }}</p>
                    </div>

                    <div class="d-grid gap-2">
                        <a href="{% url 'veiculo_editar' id=veiculo.id %}" class="btn btn-outline-warning btn-sm">
                            <i class="fas fa-edit"></i> Editar
                        </a>
                        <a href="{% url 'vei-rm' id=veiculo.id %}" class="btn btn-outline-danger btn-sm">
                            <i class="fas fa-trash-alt"></i> Remover
                        </a>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="col-12 text-center py-5">
                <i class="fas fa-inbox" style="font-size: 3rem; color: #ccc;"></i>
                <p class="lead mt-3">Nenhum ve√≠culo cadastrado no momento.</p>
                <a href="{% url 'veiculo_criar' %}" class="btn btn-primary mt-3">Adicione um novo!</a>
            </div>
        {% endfor %}
    </div>
    <div class="pagination-container">
        {% include "paginacao.html" with page_obj=veiculos %}
    </div>
</main>

<style>
/* tornar conte√∫do full-width (remover grid da sidebar) */
.vendedor-content {
    padding: 20px;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    margin-top: 20px;
}

.pagination-container {
    display: flex; /* Habilita o Flexbox */
    justify-content: center; /* Centraliza o conte√∫do (o menu de pagina√ß√£o) horizontalmente */
    margin-top: 30px; /* Adiciona algum espa√ßo acima do menu */
}

/* manter estilos de grid de cards */
.car-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    margin-top: 30px;
}
</style>

{% endblock %}