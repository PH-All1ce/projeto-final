{% extends "base.html" %}
{% load humanize %}

{% block title %}{{ veiculo.nome }} - Detalhes{% endblock %}

{% block content %}
<div class="mb-4">
    <a href="{% url 'home' %}" class="btn btn-outline-secondary mb-3">
        <i class="fas fa-arrow-left"></i> Voltar ao Catálogo
    </a>
</div>

<div class="row g-4">
    <div class="col-lg-6">
        <div class="card shadow-sm border-0">
            {% if veiculo.foto_url %}
                <img src="{{ veiculo.foto_url }}" alt="Foto do {{ veiculo.nome }}" class="card-img-top img-fluid" style="object-fit: cover; max-height: 450px;">
            {% else %}
                <img src="https://via.placeholder.com/600x400.png?text=Sem+Foto" alt="Sem foto" class="card-img-top img-fluid">
            {% endif %}
        </div>
    </div>
    
    <div class="col-lg-6">
        <h1 class="display-5 fw-bold mb-3">{{ veiculo.nome }}</h1>
        
        <p class="h3 fw-light text-success mb-4">R$ {{ veiculo.preco|floatformat:0|intcomma }}</p>

        <h4 class="mb-3 text-muted">Especificações:</h4>
        
        <ul class="list-group list-group-flush mb-4">
            <li class="list-group-item d-flex justify-content-between align-items-center">
                Marca: <span class="fw-bold">{{ veiculo.marca }}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                Ano Modelo: <span class="fw-bold">{{ veiculo.ano_modelo }}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                Quilometragem: <span class="fw-bold">{{ veiculo.quilometragem|intcomma }} KM</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                Potência: <span class="fw-bold">{{ veiculo.potencia }} Cavalos</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                Consumo: <span class="fw-bold">{{ veiculo.consumo }} KM/L</span>
            </li>
        </ul>

        <h4 class="mb-3 text-muted">Histórico do Dono:</h4>
        <div class="card p-3 bg-light">
            <p class="text-secondary mb-0">
                {{ veiculo.historico_dono|default:"Não há histórico detalhado disponível." }}
            </p>
        </div>
        
        <div class="mt-4">
            <form method="post" action="{% url 'veiculos_infos' veiculo.id %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-success btn-lg w-100">Tenho interesse neste veículo</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}